!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(n.geometric={})}(this,function(n){"use strict";function t(n){return 180*n/Math.PI}function r(n){return t(Math.atan2(n[1][1]-n[0][1],n[1][0]-n[0][0]))}function e(n){return Math.sqrt(Math.pow(n[1][0]-n[0][0],2)+Math.pow(n[1][1]-n[0][1],2))}function o(n){return n/180*Math.PI}function i(n,t,r){var e=o(t);return[n[0]+r*Math.cos(e),n[1]+r*Math.sin(e)]}function u(n){return function(t){return 0===t?n[0]:1===t?n[1]:i(n[0],r(n),e(n)*t)}}function a(n){return[(n[0][0]+n[1][0])/2,(n[0][1]+n[1][1])/2]}function f(n,t,r){function e(n,t){return[n[0]*Math.cos(t)-n[1]*Math.sin(t),n[0]*Math.sin(t)+n[1]*Math.cos(t)]}var i=o(t);return!r||0===r[0]&&0===r[1]?e(n,i):e(n.map(function(n,t){return n-r[t]}),i).map(function(n,t){return n+r[t]})}function l(n){for(var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=0,e=0,o=n.length;e<o;e++){var i=n[e],u=n[e===o-1?0:e+1];r+=i[0]*u[1],r-=u[0]*i[1]}return t?r/2:Math.abs(r/2)}function c(n){if(n.length<3)return null;for(var t=1/0,r=-1/0,e=1/0,o=-1/0,i=!1,u=0,a=n.length;u<a;u++){var f=n[u],l=f[0],c=f[1];null!=l&&isFinite(l)&&null!=c&&isFinite(c)&&(i=!0,l<t&&(t=l),l>r&&(r=l),c<e&&(e=c),c>o&&(o=c))}return i?[[t,e],[r,o]]:null}function h(n){for(var t=0,r=0,e=0,o=n.length,i=0;i<o;i++){var u=i===o-1?0:i+1,a=n[i],f=n[u],l=a[0]*f[1]-f[0]*a[1];t+=l,r+=(a[0]+f[0])*l,e+=(a[1]+f[1])*l}var c=3*t;return[r/c,e/c]}function g(n,t,r){return(n[0]-r[0])*(t[1]-r[1])-(n[1]-r[1])*(t[0]-r[0])}function v(n){if(n.length<3)return null;for(var t=n.slice().sort(function(n,t){return n[0]===t[0]?n[1]-t[1]:n[0]-t[0]}),r=[],e=0;e<t.length;e++){for(;r.length>=2&&g(r[r.length-2],r[r.length-1],t[e])<=0;)r.pop();r.push(t[e])}for(var o=[],i=t.length-1;i>=0;i--){for(;o.length>=2&&g(o[o.length-2],o[o.length-1],t[i])<=0;)o.pop();o.push(t[i])}return o.pop(),r.pop(),r.concat(o)}function p(n){if(0===n.length)return 0;for(var t,r,e=-1,o=n.length,i=n[o-1],u=i[0],a=i[1],f=0;++e<o;)t=u,r=a,i=n[e],u=i[0],a=i[1],t-=u,r-=a,f+=Math.sqrt(t*t+r*r);return f}function s(n){for(var t=0,r=0,e=n.length,o=0;o<e;o++){var i=n[o];t+=i[0],r+=i[1]}return[t/e,r/e]}function y(n,t,r){for(var e=[],o=0,u=n.length;o<u;o++)e[o]=i(n[o],t,r);return e}function M(){for(var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,o=arguments.length>2?arguments[2]:void 0,u=[],a=[0,0],f=[0,0],l=0,c=0;c<n;c++)u[c]=a,f[0]+=a[0],f[1]+=a[1],a=i(a,l,Math.sqrt(4*t*Math.tan(Math.PI/n)/n)),l-=360/n;if(o){var h=[[f[0]/n,f[1]/n],o];u=y(u,r(h),e(h))}return u}function m(n,t,r){for(var e=[],o=0,i=n.length;o<i;o++)e[o]=f(n[o],t,r);return e}function b(n,t,o){o||(o=h(n));for(var u=[],a=0,f=n.length;a<f;a++){var l=n[a],c=e([o,l]),g=r([o,l]);u[a]=i(o,g,c*t)}return u}function d(n,t,o){o||(o=h(n));for(var u=[],a=0,f=n.length;a<f;a++){var l=n[a],c=e([o,l]),g=r([o,l]),v=i(o,g,c*t);u[a]=[v[0],l[1]]}return u}function I(n,t,o){o||(o=h(n));for(var u=[],a=0,f=n.length;a<f;a++){var l=n[a],c=e([o,l]),g=r([o,l]),v=i(o,g,c*t);u[a]=[l[0],v[1]]}return u}function N(n,t){var r=n[0][0],e=n[0][1],o=n[1][0],i=n[1][1],u=t[0][0],a=t[0][1],f=t[1][0],l=t[1][1],c=(o-r)*(l-a)-(f-u)*(i-e);if(P(c,0)){if(P((l-a)*u-(f-u)*a,(i-e)*r-(o-r)*e)){if(P(e,a)&&P(i,l)){var h=Math.min(r,o),g=Math.max(r,o),v=Math.min(u,f),p=Math.max(u,f);return v<=g+Number.EPSILON&&p>=h-Number.EPSILON}var s=Math.min(e,i),y=Math.max(e,i),M=Math.min(a,l),m=Math.max(a,l);return M<=y+Number.EPSILON&&m>=s-Number.EPSILON}return!1}var b=((l-a)*(f-r)+(u-f)*(l-e))/c,d=((e-i)*(f-r)+(o-r)*(l-e))/c;return 0<=b+Number.EPSILON&&b<=1+Number.EPSILON&&0<=d+Number.EPSILON&&d<=1+Number.EPSILON}function P(n,t){return n<=t+Number.EPSILON&&n>=t-Number.EPSILON}function L(n){return O(n)||S(n)||E()}function O(n){if(Array.isArray(n)){for(var t=0,r=new Array(n.length);t<n.length;t++)r[t]=n[t];return r}}function S(n){if(Symbol.iterator in Object(n)||"[object Arguments]"===Object.prototype.toString.call(n))return Array.from(n)}function E(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function x(n){return A(n)?n:[].concat(L(n),[n[0]])}function A(n){var t=n[0],r=n[n.length-1];return t[0]===r[0]&&t[1]===r[1]}function k(n){return n[1][1]>n[0][1]?n:[n[1],n[0]]}function R(n,t){var r=k(t);return g(n,r[1],r[0])<0}function j(n,t){var r=k(t);return g(n,r[1],r[0])>0}function w(n,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=e(t);return T(n,t,r)&&e([t[0],n])<=o&&e([t[1],n])<=o}function T(n,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Math.abs(g(n,t[0],t[1]))<=r}function q(n,t){for(var r=!1,e=x(t),o=0,i=e.length-1;o<i;o++){var u=e[o],a=e[o+1];if(N(n,[u,a])||w(u,n)&&w(a,n)){r=!0;break}}return r}function F(n,t){for(var r=n[0],e=n[1],o=!1,i=0,u=t.length-1;i<t.length;u=i++){var a=t[i][0],f=t[i][1],l=t[u][0],c=t[u][1];f>e!=c>e&&r<(l-a)*(e-f)/(c-f)+a&&(o=!o)}return o}function _(n,t){for(var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,e=!1,o=x(t),i=0,u=o.length-1;i<u;i++)if(w(n,[o[i],o[i+1]],r)){e=!0;break}return e}function B(n,t){for(var r=!0,e=x(n),o=0,i=e.length-1;o<i;o++){var u=e[o];if(!F(u,t)){r=!1;break}if(q([u,e[o+1]],t)){r=!1;break}}return r}function C(n,t){for(var r=!1,e=0,o=x(n),i=0,u=o.length-1;i<u;i++){var a=o[i];if(q([a,o[i+1]],t)){r=!0;break}if(_(a,t)&&++e,2===e){r=!0;break}}return r}function D(n,t){var r=2*t-n;return r>=360?r-360:r<0?r+360:r}n.lineAngle=r,n.lineInterpolate=u,n.lineLength=e,n.lineMidpoint=a,n.pointRotate=f,n.pointTranslate=i,n.polygonArea=l,n.polygonBounds=c,n.polygonCentroid=h,n.polygonHull=v,n.polygonLength=p,n.polygonMean=s,n.polygonRegular=M,n.polygonRotate=m,n.polygonScale=b,n.polygonScaleX=d,n.polygonScaleY=I,n.polygonTranslate=y,n.lineIntersectsLine=N,n.lineIntersectsPolygon=q,n.pointInPolygon=F,n.pointOnPolygon=_,n.pointLeftofLine=R,n.pointRightofLine=j,n.pointOnLine=w,n.pointWithLine=T,n.polygonInPolygon=B,n.polygonIntersectsPolygon=C,n.angleReflect=D,n.angleToDegrees=t,n.angleToRadians=o,Object.defineProperty(n,"__esModule",{value:!0})});