!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(n.geometric={})}(this,function(n){"use strict";function t(n){return 180*n/Math.PI}function r(n){return t(Math.atan2(n[1][1]-n[0][1],n[1][0]-n[0][0]))}function e(n){return Math.sqrt(Math.pow(n[1][0]-n[0][0],2)+Math.pow(n[1][1]-n[0][1],2))}function o(n){return n/180*Math.PI}function a(n,t,r){var e=o(t);return[n[0]+r*Math.cos(e),n[1]+r*Math.sin(e)]}function u(n){return function(t){return 0===t?n[0]:1===t?n[1]:a(n[0],r(n),e(n)*t)}}function i(n){return[(n[0][0]+n[1][0])/2,(n[0][1]+n[1][1])/2]}function f(n,t,r){function e(n,t){return[n[0]*Math.cos(t)-n[1]*Math.sin(t),n[0]*Math.sin(t)+n[1]*Math.cos(t)]}var a=o(t);return!r||0===r[0]&&0===r[1]?e(n,a):e(n.map(function(n,t){return n-r[t]}),a).map(function(n,t){return n+r[t]})}function l(n){for(var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=0,e=0,o=n.length;e<o;e++){var a=n[e],u=n[e===o-1?0:e+1];r+=a[0]*u[1],r-=u[0]*a[1]}return t?r/2:Math.abs(r/2)}function h(n){if(n.length<3)return null;for(var t=1/0,r=-1/0,e=1/0,o=-1/0,a=!1,u=0,i=n.length;u<i;u++){var f=n[u],l=f[0],h=f[1];null!=l&&isFinite(l)&&null!=h&&isFinite(h)&&(a=!0,l<t&&(t=l),l>r&&(r=l),h<e&&(e=h),h>o&&(o=h))}return a?[[t,e],[r,o]]:null}function c(n){for(var t=0,r=0,e=0,o=n.length,a=0;a<o;a++){var u=a===o-1?0:a+1,i=n[a],f=n[u],l=i[0]*f[1]-f[0]*i[1];t+=l,r+=(i[0]+f[0])*l,e+=(i[1]+f[1])*l}var h=3*t;return[r/h,e/h]}function g(n,t,r){return(n[0]-r[0])*(t[1]-r[1])-(n[1]-r[1])*(t[0]-r[0])}function v(n){if(n.length<3)return null;for(var t=n.slice().sort(function(n,t){return n[0]===t[0]?n[1]-t[1]:n[0]-t[0]}),r=[],e=0;e<t.length;e++){for(;r.length>=2&&g(r[r.length-2],r[r.length-1],t[e])<=0;)r.pop();r.push(t[e])}for(var o=[],a=t.length-1;a>=0;a--){for(;o.length>=2&&g(o[o.length-2],o[o.length-1],t[a])<=0;)o.pop();o.push(t[a])}return o.pop(),r.pop(),r.concat(o)}function p(n,t){return d(n)||m(n,t)||I()}function s(n){return y(n)||M(n)||b()}function y(n){if(Array.isArray(n)){for(var t=0,r=new Array(n.length);t<n.length;t++)r[t]=n[t];return r}}function d(n){if(Array.isArray(n))return n}function M(n){if(Symbol.iterator in Object(n)||"[object Arguments]"===Object.prototype.toString.call(n))return Array.from(n)}function m(n,t){var r=[],e=!0,o=!1,a=void 0;try{for(var u,i=n[Symbol.iterator]();!(e=(u=i.next()).done)&&(r.push(u.value),!t||r.length!==t);e=!0);}catch(n){o=!0,a=n}finally{try{e||null==i.return||i.return()}finally{if(o)throw a}}return r}function b(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function I(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function A(n){return P(n)?n:[].concat(s(n),[n[0]])}function P(n){var t=n[0],r=n[n.length-1];return t[0]===r[0]&&t[1]===r[1]}function w(n){if(0===n.length)return 0;for(var t,r,e=-1,o=n.length,a=n[o-1],u=a[0],i=a[1],f=0;++e<o;)t=u,r=i,a=n[e],u=a[0],i=a[1],t-=u,r-=i,f+=Math.sqrt(t*t+r*r);return f}function L(n){return function(t){if(t<=0)return n[0];var o=A(n);if(t>=1)return o[o.length-1];for(var u=w(o)*t,i=[],f=0,l=0;l<o.length-1;l++){var h=[o[l],o[l+1]],c=e(h),g=r(h),v=u-(f+=c);if(v<0){i=a(h[0],g,c+v);break}l===n.length-2&&(i=a(h[0],g,v))}return i}}function k(n){for(var t=0,r=0,e=n.length,o=0;o<e;o++){var a=n[o];t+=a[0],r+=a[1]}return[t/e,r/e]}function R(n,t,o){o||(o=c(n));for(var u=[],i=0,f=n.length;i<f;i++){var l=n[i],h=e([o,l]),g=r([o,l]);u[i]=a(o,g,h*Math.sqrt(t))}return u}function S(n,t,r){for(var e=[],o=0,u=n.length;o<u;o++)e[o]=a(n[o],t,r);return e}function T(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[0,0],a=Math.sqrt(t/Math.PI),u=Array.from({length:n},function(){return 2*a*Math.random()}),i=Array.from({length:n},function(){return 2*a*Math.random()});u.sort(function(n,t){return n-t}),i.sort(function(n,t){return n-t});var f=j(u,u[0],u[u.length-1]),h=j(i,i[0],i[i.length-1]);q(h);var g=[],v=0,p=0,s=(f.map(function(n,t){return[n,h[t]]}).sort(function(n,t){return Math.atan2(t[1],t[0])-Math.atan2(n[1],n[0])}).forEach(function(n){v+=1*n[0],p+=1*n[1],g.push([v,p])}),c(g));return S(R(g,t/l(g)),r([s,o]),e([s,o]))}function j(n,t,r){for(var e=t,o=t,a=[],u=1;u<n.length-1;u++){var i=n[u];Math.random()>.5?(a.push(i-e),e=i):(a.push(o-i),o=i)}return a.push(r-e),a.push(o-r),a}function q(n){for(var t=n.length-1;t>0;t--){var r=Math.floor(Math.random()*(t+1)),e=[n[r],n[t]];n[t]=e[0],n[r]=e[1]}}function O(){for(var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,o=arguments.length>2?arguments[2]:void 0,u=[],i=[0,0],f=[0,0],l=0,h=0;h<n;h++)u[h]=i,f[0]+=i[0],f[1]+=i[1],i=a(i,l,Math.sqrt(4*t*Math.tan(Math.PI/n)/n)),l-=360/n;if(o){var c=[[f[0]/n,f[1]/n],o];u=S(u,r(c),e(c))}return u}function x(n,t,r){for(var e=[],o=0,a=n.length;o<a;o++)e[o]=f(n[o],t,r);return e}function E(n,t,o){o||(o=c(n));for(var u=[],i=0,f=n.length;i<f;i++){var l=n[i],h=e([o,l]),g=r([o,l]);u[i]=a(o,g,h*t)}return u}function F(n,t,o){o||(o=c(n));for(var u=[],i=0,f=n.length;i<f;i++){var l=n[i],h=e([o,l]),g=r([o,l]),v=a(o,g,h*t);u[i]=[v[0],l[1]]}return u}function _(n,t,o){o||(o=c(n));for(var u=[],i=0,f=n.length;i<f;i++){var l=n[i],h=e([o,l]),g=r([o,l]),v=a(o,g,h*t);u[i]=[l[0],v[1]]}return u}function B(n){return n[1][1]>n[0][1]?n:[n[1],n[0]]}function C(n,t){var r=B(t);return g(n,r[1],r[0])<0}function D(n,t){var r=B(t);return g(n,r[1],r[0])>0}function H(n,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=e(t);return W(n,t,r)&&e([t[0],n])<=o&&e([t[1],n])<=o}function W(n,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Math.abs(g(n,t[0],t[1]))<=r}function X(n,t){var r=p(n,2),e=p(r[0],2),o=e[0],a=e[1],u=p(r[1],2),i=u[0],f=u[1],l=p(t,2),h=p(l[0],2),c=h[0],g=h[1],v=p(l[1],2),s=v[0],y=v[1];if(o===c&&a===g)return!0;if(i===s&&f===y)return!0;if(H(n[0],t)||H(n[1],t))return!0;if(H(t[0],n)||H(t[1],n))return!0;var d=(y-g)*(i-o)-(s-c)*(f-a);if(0===d)return!1;var M=a-g,m=o-c,b=(s-c)*M-(y-g)*m,I=(i-o)*M-(f-a)*m,A=b/d,P=I/d;return A>0&&A<1&&P>0&&P<1}function Y(n,t){for(var r=!1,e=A(t),o=0,a=e.length-1;o<a;o++){var u=e[o],i=e[o+1];if(X(n,[u,i])||H(u,n)&&H(i,n)){r=!0;break}}return r}function z(n,t){for(var r=n[0],e=n[1],o=!1,a=0,u=t.length-1;a<t.length;u=a++){var i=t[a][0],f=t[a][1],l=t[u][0],h=t[u][1];f>e!=h>e&&r<(l-i)*(e-f)/(h-f)+i&&(o=!o)}return o}function G(n,t){for(var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,e=!1,o=A(t),a=0,u=o.length-1;a<u;a++)if(H(n,[o[a],o[a+1]],r)){e=!0;break}return e}function J(n,t){for(var r=!0,e=A(n),o=0,a=e.length-1;o<a;o++){var u=e[o];if(!z(u,t)){r=!1;break}if(Y([u,e[o+1]],t)){r=!1;break}}return r}function K(n,t){for(var r=!1,e=0,o=A(n),a=0,u=o.length-1;a<u;a++){var i=o[a];if(Y([i,o[a+1]],t)){r=!0;break}if(G(i,t)&&++e,2===e){r=!0;break}}return r}function N(n,t){var r=2*t-n;return r>=360?r-360:r<0?r+360:r}n.lineAngle=r,n.lineInterpolate=u,n.lineLength=e,n.lineMidpoint=i,n.pointRotate=f,n.pointTranslate=a,n.polygonArea=l,n.polygonBounds=h,n.polygonCentroid=c,n.polygonHull=v,n.polygonInterpolate=L,n.polygonLength=w,n.polygonMean=k,n.polygonRandom=T,n.polygonRegular=O,n.polygonRotate=x,n.polygonScale=E,n.polygonScaleArea=R,n.polygonScaleX=F,n.polygonScaleY=_,n.polygonTranslate=S,n.lineIntersectsLine=X,n.lineIntersectsPolygon=Y,n.pointInPolygon=z,n.pointOnPolygon=G,n.pointLeftofLine=C,n.pointRightofLine=D,n.pointOnLine=H,n.pointWithLine=W,n.polygonInPolygon=J,n.polygonIntersectsPolygon=K,n.angleReflect=N,n.angleToDegrees=t,n.angleToRadians=o,Object.defineProperty(n,"__esModule",{value:!0})});