!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(n.geometric={})}(this,function(n){"use strict";function t(n){return 180*n/Math.PI}function r(n){return t(Math.atan2(n[1][1]-n[0][1],n[1][0]-n[0][0]))}function e(n,t){return a(n)||l(n,t)||c()}function o(n){return i(n)||u(n)||f()}function i(n){if(Array.isArray(n)){for(var t=0,r=new Array(n.length);t<n.length;t++)r[t]=n[t];return r}}function a(n){if(Array.isArray(n))return n}function u(n){if(Symbol.iterator in Object(n)||"[object Arguments]"===Object.prototype.toString.call(n))return Array.from(n)}function l(n,t){var r=[],e=!0,o=!1,i=void 0;try{for(var a,u=n[Symbol.iterator]();!(e=(a=u.next()).done)&&(r.push(a.value),!t||r.length!==t);e=!0);}catch(n){o=!0,i=n}finally{try{e||null==u.return||u.return()}finally{if(o)throw i}}return r}function f(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function c(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function h(n){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=e(n,2),o=e(r[0],2),i=o[0],a=o[1],u=e(r[1],2),l=u[0],f=u[1],c=function(n){return(l-i)*n+i},h=function(n){return(f-a)*n+a};return function(n){var r=t?n<0?0:n>1?1:n:n;return[c(r),h(r)]}}function g(n){return Math.sqrt(Math.pow(n[1][0]-n[0][0],2)+Math.pow(n[1][1]-n[0][1],2))}function v(n){return[(n[0][0]+n[1][0])/2,(n[0][1]+n[1][1])/2]}function p(n){return n/180*Math.PI}function s(n,t,r){var e=p(t||0);return!r||0===r[0]&&0===r[1]?y(n,e):y(n.map(function(n,t){return n-r[t]}),e).map(function(n,t){return n+r[t]})}function y(n,t){return[n[0]*Math.cos(t)-n[1]*Math.sin(t),n[0]*Math.sin(t)+n[1]*Math.cos(t)]}function d(n,t,r){return n.map(function(e){return s(e,t,r||v(n))})}function M(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,e=p(t);return[n[0]+r*Math.cos(e),n[1]+r*Math.sin(e)]}function m(n,t,r){return n.map(function(n){return M(n,t,r)})}function b(n){for(var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=0,e=0,o=n.length;e<o;e++){var i=n[e],a=n[e===o-1?0:e+1];r+=i[0]*a[1],r-=a[0]*i[1]}return t?r/2:Math.abs(r/2)}function I(n){if(n.length<3)return null;for(var t=1/0,r=-1/0,e=1/0,o=-1/0,i=!1,a=0,u=n.length;a<u;a++){var l=n[a],f=l[0],c=l[1];null!=f&&isFinite(f)&&null!=c&&isFinite(c)&&(i=!0,f<t&&(t=f),f>r&&(r=f),c<e&&(e=c),c>o&&(o=c))}return i?[[t,e],[r,o]]:null}function A(n){for(var t=0,r=0,e=0,o=n.length,i=0;i<o;i++){var a=i===o-1?0:i+1,u=n[i],l=n[a],f=u[0]*l[1]-l[0]*u[1];t+=f,r+=(u[0]+l[0])*f,e+=(u[1]+l[1])*f}var c=3*t;return[r/c,e/c]}function w(n,t,r){return(n[0]-r[0])*(t[1]-r[1])-(n[1]-r[1])*(t[0]-r[0])}function P(n){if(n.length<3)return null;for(var t=n.slice().sort(function(n,t){return n[0]===t[0]?n[1]-t[1]:n[0]-t[0]}),r=[],e=0;e<t.length;e++){for(;r.length>=2&&w(r[r.length-2],r[r.length-1],t[e])<=0;)r.pop();r.push(t[e])}for(var o=[],i=t.length-1;i>=0;i--){for(;o.length>=2&&w(o[o.length-2],o[o.length-1],t[i])<=0;)o.pop();o.push(t[i])}return o.pop(),r.pop(),r.concat(o)}function R(n){return k(n)?n:[].concat(o(n),[n[0]])}function k(n){var t=n[0],r=n[n.length-1];return t[0]===r[0]&&t[1]===r[1]}function L(n){if(0===n.length)return 0;for(var t,r,e=-1,o=n.length,i=n[o-1],a=i[0],u=i[1],l=0;++e<o;)t=a,r=u,i=n[e],a=i[0],u=i[1],t-=a,r-=u,l+=Math.sqrt(t*t+r*r);return l}function S(n){return function(t){if(t<=0)return n[0];var e=R(n);if(t>=1)return e[e.length-1];for(var o=L(e)*t,i=[],a=0,u=0;u<e.length-1;u++){var l=[e[u],e[u+1]],f=g(l),c=r(l),h=o-(a+=f);if(h<0){i=M(l[0],c,f+h);break}u===n.length-2&&(i=M(l[0],c,h))}return i}}function T(n){for(var t=0,r=0,e=n.length,o=0;o<e;o++){var i=n[o];t+=i[0],r+=i[1]}return[t/e,r/e]}function x(n,t,e){e||(e=A(n));for(var o=[],i=0,a=n.length;i<a;i++){var u=n[i],l=g([e,u]),f=r([e,u]);o[i]=M(e,f,l*Math.sqrt(t))}return o}function j(n,t,r){for(var e=[],o=0,i=n.length;o<i;o++)e[o]=M(n[o],t,r);return e}function q(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[0,0],o=Math.sqrt(t/Math.PI),i=Array.from({length:n},function(){return 2*o*Math.random()}),a=Array.from({length:n},function(){return 2*o*Math.random()});i.sort(function(n,t){return n-t}),a.sort(function(n,t){return n-t});var u=O(i,i[0],i[i.length-1]),l=O(a,a[0],a[a.length-1]);E(l);var f=[],c=0,h=0,v=(u.map(function(n,t){return[n,l[t]]}).sort(function(n,t){return Math.atan2(t[1],t[0])-Math.atan2(n[1],n[0])}).forEach(function(n){c+=1*n[0],h+=1*n[1],f.push([c,h])}),A(f));return j(x(f,t/b(f)),r([v,e]),g([v,e]))}function O(n,t,r){for(var e=t,o=t,i=[],a=1;a<n.length-1;a++){var u=n[a];Math.random()>.5?(i.push(u-e),e=u):(i.push(o-u),o=u)}return i.push(r-e),i.push(o-r),i}function E(n){for(var t=n.length-1;t>0;t--){var r=Math.floor(Math.random()*(t+1)),e=[n[r],n[t]];n[t]=e[0],n[r]=e[1]}}function F(n){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=I(n),o=e(r,2),i=e(o[0],2),a=i[0],u=(i[1],e(o[1],2)),l=u[0],f=(u[1],[]),c=0,g=n.length;c<g;c++){var v=e(n[c],2),p=v[0],s=v[1],y=[a+l-p,s];if(0===t)f[c]=[p,s];else if(1===t)f[c]=y;else{var d=h([[p,s],y]);f[c]=d(Math.max(Math.min(t,1),0))}}return f}function W(n){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=I(n),o=e(r,2),i=e(o[0],2),a=(i[0],i[1]),u=e(o[1],2),l=(u[0],u[1]),f=[],c=0,g=n.length;c<g;c++){var v=e(n[c],2),p=v[0],s=v[1],y=[p,a+l-s];if(0===t)f[c]=[p,s];else if(1===t)f[c]=y;else{var d=h([[p,s],y]);f[c]=d(Math.max(Math.min(t,1),0))}}return f}function X(){for(var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,e=arguments.length>2?arguments[2]:void 0,o=[],i=[0,0],a=[0,0],u=0,l=0;l<n;l++)o[l]=i,a[0]+=i[0],a[1]+=i[1],i=M(i,u,Math.sqrt(4*t*Math.tan(Math.PI/n)/n)),u-=360/n;if(e){var f=[[a[0]/n,a[1]/n],e];o=j(o,r(f),g(f))}return o}function Y(n,t,r){for(var e=[],o=0,i=n.length;o<i;o++)e[o]=s(n[o],t,r);return e}function _(n,t,e){e||(e=A(n));for(var o=[],i=0,a=n.length;i<a;i++){var u=n[i],l=g([e,u]),f=r([e,u]);o[i]=M(e,f,l*t)}return o}function B(n,t,e){e||(e=A(n));for(var o=[],i=0,a=n.length;i<a;i++){var u=n[i],l=g([e,u]),f=r([e,u]),c=M(e,f,l*t);o[i]=[c[0],u[1]]}return o}function C(n,t,e){e||(e=A(n));for(var o=[],i=0,a=n.length;i<a;i++){var u=n[i],l=g([e,u]),f=r([e,u]),c=M(e,f,l*t);o[i]=[u[0],c[1]]}return o}function D(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ccw";if(n.length<3)return null;var r=n.slice().reverse(),e=b(n,!0)>0;return"cw"===t||"clockwise"===t?e?n:r:e?r:n}function H(n){return n[1][1]>n[0][1]?n:[n[1],n[0]]}function z(n,t){var r=H(t);return w(n,r[1],r[0])<0}function G(n,t){var r=H(t);return w(n,r[1],r[0])>0}function J(n,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,e=g(t);return K(n,t,r)&&g([t[0],n])<=e&&g([t[1],n])<=e}function K(n,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Math.abs(w(n,t[0],t[1]))<=r}function N(n,t){var r=e(n,2),o=e(r[0],2),i=o[0],a=o[1],u=e(r[1],2),l=u[0],f=u[1],c=e(t,2),h=e(c[0],2),g=h[0],v=h[1],p=e(c[1],2),s=p[0],y=p[1];if(i===g&&a===v)return!0;if(l===s&&f===y)return!0;if(J(n[0],t)||J(n[1],t))return!0;if(J(t[0],n)||J(t[1],n))return!0;var d=(y-v)*(l-i)-(s-g)*(f-a);if(0===d)return!1;var M=a-v,m=i-g,b=(s-g)*M-(y-v)*m,I=(l-i)*M-(f-a)*m,A=b/d,w=I/d;return A>0&&A<1&&w>0&&w<1}function Q(n,t){for(var r=!1,e=R(t),o=0,i=e.length-1;o<i;o++){var a=e[o],u=e[o+1];if(N(n,[a,u])||J(a,n)&&J(u,n)){r=!0;break}}return r}function U(n,t){for(var r=n[0],e=n[1],o=!1,i=0,a=t.length-1;i<t.length;a=i++){var u=t[i][0],l=t[i][1],f=t[a][0],c=t[a][1];l>e!=c>e&&r<(f-u)*(e-l)/(c-l)+u&&(o=!o)}return o}function V(n,t){for(var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,e=!1,o=R(t),i=0,a=o.length-1;i<a;i++)if(J(n,[o[i],o[i+1]],r)){e=!0;break}return e}function Z(n,t){for(var r=!0,e=R(n),o=0,i=e.length-1;o<i;o++){var a=e[o];if(!U(a,t)){r=!1;break}if(Q([a,e[o+1]],t)){r=!1;break}}return r}function $(n,t){for(var r=!1,e=0,o=R(n),i=0,a=o.length-1;i<a;i++){var u=o[i];if(Q([u,o[i+1]],t)){r=!0;break}if(V(u,t)&&++e,2===e){r=!0;break}}return r}function nn(n,t){var r=2*t-n;return r>=360?r-360:r<0?r+360:r}n.lineAngle=r,n.lineInterpolate=h,n.lineLength=g,n.lineMidpoint=v,n.lineRotate=d,n.lineTranslate=m,n.pointRotate=s,n.pointTranslate=M,n.polygonArea=b,n.polygonBounds=I,n.polygonCentroid=A,n.polygonHull=P,n.polygonInterpolate=S,n.polygonLength=L,n.polygonMean=T,n.polygonRandom=q,n.polygonReflectX=F,n.polygonReflectY=W,n.polygonRegular=X,n.polygonRotate=Y,n.polygonScale=_,n.polygonScaleArea=x,n.polygonScaleX=B,n.polygonScaleY=C,n.polygonTranslate=j,n.polygonWind=D,n.lineIntersectsLine=N,n.lineIntersectsPolygon=Q,n.pointInPolygon=U,n.pointOnPolygon=V,n.pointLeftofLine=z,n.pointRightofLine=G,n.pointOnLine=J,n.pointWithLine=K,n.polygonInPolygon=Z,n.polygonIntersectsPolygon=$,n.angleReflect=nn,n.angleToDegrees=t,n.angleToRadians=p,Object.defineProperty(n,"__esModule",{value:!0})});