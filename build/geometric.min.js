!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t(n.geometric={})}(this,function(n){"use strict";function t(n){return 180*n/Math.PI}function r(n){return t(Math.atan2(n[1][1]-n[0][1],n[1][0]-n[0][0]))}function e(n){return Math.sqrt(Math.pow(n[1][0]-n[0][0],2)+Math.pow(n[1][1]-n[0][1],2))}function o(n){return n/180*Math.PI}function u(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,e=o(t);return[n[0]+r*Math.cos(e),n[1]+r*Math.sin(e)]}function i(n){return function(t){return 0===t?n[0]:1===t?n[1]:u(n[0],r(n),e(n)*t)}}function a(n){return[(n[0][0]+n[1][0])/2,(n[0][1]+n[1][1])/2]}function f(n,t,r){var e=o(t||0);return!r||0===r[0]&&0===r[1]?l(n,e):l(n.map(function(n,t){return n-r[t]}),e).map(function(n,t){return n+r[t]})}function l(n,t){return[n[0]*Math.cos(t)-n[1]*Math.sin(t),n[0]*Math.sin(t)+n[1]*Math.cos(t)]}function c(n,t,r){return n.map(function(e){return f(e,t,r||a(n))})}function h(n,t,r){return n.map(function(n){return u(n,t,r)})}function g(n){for(var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=0,e=0,o=n.length;e<o;e++){var u=n[e],i=n[e===o-1?0:e+1];r+=u[0]*i[1],r-=i[0]*u[1]}return t?r/2:Math.abs(r/2)}function v(n){if(n.length<3)return null;for(var t=1/0,r=-1/0,e=1/0,o=-1/0,u=!1,i=0,a=n.length;i<a;i++){var f=n[i],l=f[0],c=f[1];null!=l&&isFinite(l)&&null!=c&&isFinite(c)&&(u=!0,l<t&&(t=l),l>r&&(r=l),c<e&&(e=c),c>o&&(o=c))}return u?[[t,e],[r,o]]:null}function p(n){for(var t=0,r=0,e=0,o=n.length,u=0;u<o;u++){var i=u===o-1?0:u+1,a=n[u],f=n[i],l=a[0]*f[1]-f[0]*a[1];t+=l,r+=(a[0]+f[0])*l,e+=(a[1]+f[1])*l}var c=3*t;return[r/c,e/c]}function s(n,t,r){return(n[0]-r[0])*(t[1]-r[1])-(n[1]-r[1])*(t[0]-r[0])}function y(n){if(n.length<3)return null;for(var t=n.slice().sort(function(n,t){return n[0]===t[0]?n[1]-t[1]:n[0]-t[0]}),r=[],e=0;e<t.length;e++){for(;r.length>=2&&s(r[r.length-2],r[r.length-1],t[e])<=0;)r.pop();r.push(t[e])}for(var o=[],u=t.length-1;u>=0;u--){for(;o.length>=2&&s(o[o.length-2],o[o.length-1],t[u])<=0;)o.pop();o.push(t[u])}return o.pop(),r.pop(),r.concat(o)}function d(n,t){return b(n)||A(n,t)||P()}function M(n){return m(n)||I(n)||w()}function m(n){if(Array.isArray(n)){for(var t=0,r=new Array(n.length);t<n.length;t++)r[t]=n[t];return r}}function b(n){if(Array.isArray(n))return n}function I(n){if(Symbol.iterator in Object(n)||"[object Arguments]"===Object.prototype.toString.call(n))return Array.from(n)}function A(n,t){var r=[],e=!0,o=!1,u=void 0;try{for(var i,a=n[Symbol.iterator]();!(e=(i=a.next()).done)&&(r.push(i.value),!t||r.length!==t);e=!0);}catch(n){o=!0,u=n}finally{try{e||null==a.return||a.return()}finally{if(o)throw u}}return r}function w(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function P(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function k(n){return L(n)?n:[].concat(M(n),[n[0]])}function L(n){var t=n[0],r=n[n.length-1];return t[0]===r[0]&&t[1]===r[1]}function R(n){if(0===n.length)return 0;for(var t,r,e=-1,o=n.length,u=n[o-1],i=u[0],a=u[1],f=0;++e<o;)t=i,r=a,u=n[e],i=u[0],a=u[1],t-=i,r-=a,f+=Math.sqrt(t*t+r*r);return f}function S(n){return function(t){if(t<=0)return n[0];var o=k(n);if(t>=1)return o[o.length-1];for(var i=R(o)*t,a=[],f=0,l=0;l<o.length-1;l++){var c=[o[l],o[l+1]],h=e(c),g=r(c),v=i-(f+=h);if(v<0){a=u(c[0],g,h+v);break}l===n.length-2&&(a=u(c[0],g,v))}return a}}function T(n){for(var t=0,r=0,e=n.length,o=0;o<e;o++){var u=n[o];t+=u[0],r+=u[1]}return[t/e,r/e]}function j(n,t,o){o||(o=p(n));for(var i=[],a=0,f=n.length;a<f;a++){var l=n[a],c=e([o,l]),h=r([o,l]);i[a]=u(o,h,c*Math.sqrt(t))}return i}function q(n,t,r){for(var e=[],o=0,i=n.length;o<i;o++)e[o]=u(n[o],t,r);return e}function O(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[0,0],u=Math.sqrt(t/Math.PI),i=Array.from({length:n},function(){return 2*u*Math.random()}),a=Array.from({length:n},function(){return 2*u*Math.random()});i.sort(function(n,t){return n-t}),a.sort(function(n,t){return n-t});var f=x(i,i[0],i[i.length-1]),l=x(a,a[0],a[a.length-1]);E(l);var c=[],h=0,v=0,s=(f.map(function(n,t){return[n,l[t]]}).sort(function(n,t){return Math.atan2(t[1],t[0])-Math.atan2(n[1],n[0])}).forEach(function(n){h+=1*n[0],v+=1*n[1],c.push([h,v])}),p(c));return q(j(c,t/g(c)),r([s,o]),e([s,o]))}function x(n,t,r){for(var e=t,o=t,u=[],i=1;i<n.length-1;i++){var a=n[i];Math.random()>.5?(u.push(a-e),e=a):(u.push(o-a),o=a)}return u.push(r-e),u.push(o-r),u}function E(n){for(var t=n.length-1;t>0;t--){var r=Math.floor(Math.random()*(t+1)),e=[n[r],n[t]];n[t]=e[0],n[r]=e[1]}}function F(){for(var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,o=arguments.length>2?arguments[2]:void 0,i=[],a=[0,0],f=[0,0],l=0,c=0;c<n;c++)i[c]=a,f[0]+=a[0],f[1]+=a[1],a=u(a,l,Math.sqrt(4*t*Math.tan(Math.PI/n)/n)),l-=360/n;if(o){var h=[[f[0]/n,f[1]/n],o];i=q(i,r(h),e(h))}return i}function W(n,t,r){for(var e=[],o=0,u=n.length;o<u;o++)e[o]=f(n[o],t,r);return e}function _(n,t,o){o||(o=p(n));for(var i=[],a=0,f=n.length;a<f;a++){var l=n[a],c=e([o,l]),h=r([o,l]);i[a]=u(o,h,c*t)}return i}function B(n,t,o){o||(o=p(n));for(var i=[],a=0,f=n.length;a<f;a++){var l=n[a],c=e([o,l]),h=r([o,l]),g=u(o,h,c*t);i[a]=[g[0],l[1]]}return i}function C(n,t,o){o||(o=p(n));for(var i=[],a=0,f=n.length;a<f;a++){var l=n[a],c=e([o,l]),h=r([o,l]),g=u(o,h,c*t);i[a]=[l[0],g[1]]}return i}function D(n){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ccw";if(n.length<3)return null;var r=n.slice().reverse(),e=g(n,!0)>0;return"cw"===t||"clockwise"===t?e?n:r:e?r:n}function H(n){return n[1][1]>n[0][1]?n:[n[1],n[0]]}function X(n,t){var r=H(t);return s(n,r[1],r[0])<0}function Y(n,t){var r=H(t);return s(n,r[1],r[0])>0}function z(n,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=e(t);return G(n,t,r)&&e([t[0],n])<=o&&e([t[1],n])<=o}function G(n,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return Math.abs(s(n,t[0],t[1]))<=r}function J(n,t){var r=d(n,2),e=d(r[0],2),o=e[0],u=e[1],i=d(r[1],2),a=i[0],f=i[1],l=d(t,2),c=d(l[0],2),h=c[0],g=c[1],v=d(l[1],2),p=v[0],s=v[1];if(o===h&&u===g)return!0;if(a===p&&f===s)return!0;if(z(n[0],t)||z(n[1],t))return!0;if(z(t[0],n)||z(t[1],n))return!0;var y=(s-g)*(a-o)-(p-h)*(f-u);if(0===y)return!1;var M=u-g,m=o-h,b=(p-h)*M-(s-g)*m,I=(a-o)*M-(f-u)*m,A=b/y,w=I/y;return A>0&&A<1&&w>0&&w<1}function K(n,t){for(var r=!1,e=k(t),o=0,u=e.length-1;o<u;o++){var i=e[o],a=e[o+1];if(J(n,[i,a])||z(i,n)&&z(a,n)){r=!0;break}}return r}function N(n,t){for(var r=n[0],e=n[1],o=!1,u=0,i=t.length-1;u<t.length;i=u++){var a=t[u][0],f=t[u][1],l=t[i][0],c=t[i][1];f>e!=c>e&&r<(l-a)*(e-f)/(c-f)+a&&(o=!o)}return o}function Q(n,t){for(var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,e=!1,o=k(t),u=0,i=o.length-1;u<i;u++)if(z(n,[o[u],o[u+1]],r)){e=!0;break}return e}function U(n,t){for(var r=!0,e=k(n),o=0,u=e.length-1;o<u;o++){var i=e[o];if(!N(i,t)){r=!1;break}if(K([i,e[o+1]],t)){r=!1;break}}return r}function V(n,t){for(var r=!1,e=0,o=k(n),u=0,i=o.length-1;u<i;u++){var a=o[u];if(K([a,o[u+1]],t)){r=!0;break}if(Q(a,t)&&++e,2===e){r=!0;break}}return r}function Z(n,t){var r=2*t-n;return r>=360?r-360:r<0?r+360:r}n.lineAngle=r,n.lineInterpolate=i,n.lineLength=e,n.lineMidpoint=a,n.lineRotate=c,n.lineTranslate=h,n.pointRotate=f,n.pointTranslate=u,n.polygonArea=g,n.polygonBounds=v,n.polygonCentroid=p,n.polygonHull=y,n.polygonInterpolate=S,n.polygonLength=R,n.polygonMean=T,n.polygonRandom=O,n.polygonRegular=F,n.polygonRotate=W,n.polygonScale=_,n.polygonScaleArea=j,n.polygonScaleX=B,n.polygonScaleY=C,n.polygonTranslate=q,n.polygonWind=D,n.lineIntersectsLine=J,n.lineIntersectsPolygon=K,n.pointInPolygon=N,n.pointOnPolygon=Q,n.pointLeftofLine=X,n.pointRightofLine=Y,n.pointOnLine=z,n.pointWithLine=G,n.polygonInPolygon=U,n.polygonIntersectsPolygon=V,n.angleReflect=Z,n.angleToDegrees=t,n.angleToRadians=o,Object.defineProperty(n,"__esModule",{value:!0})});